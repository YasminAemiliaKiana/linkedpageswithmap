<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="GPmain.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>WT Login/ Sign-Up</title>
    <script>

      const users = [
        {
          name: 'Test User',
          email: 'test@example.com',
          password: 'abc'
        }
      ]

      function login(e){
        e.preventDefault();
        
        const email = document.querySelector("#login input[name='email']").value;
        const password = document.querySelector("#login input[name='password']").value;
        
        const user = users.find(e => e.email === email);
        if(user && user.password === password){
          alert('Login successful! Welcome back ' + user.name);
          window.location.href = './country_page.html';
        } else {
          alert('Login failed');
        }
      }

      function register(e){
        e.preventDefault();
                
        const name = document.querySelector("#register input[name='name']").value;
        const email = document.querySelector("#register input[name='email']").value;
        const password = document.querySelector("#register input[name='password']").value;
        const confirmPassword = document.querySelector("#register input[name='confirmPassword']").value;

        if(password !== confirmPassword){
          return alert("Passwords don't match");
        }

        if(users.find(e => e.email === email)){
          return alert('User already existgs')
        }

        users.push({
          name: name,
          email: email,
          password: password
        })
        alert('Registration successful! Welcome ' + name);
        window.location.href = './country_page.html';
      }

      window.onload = function(){
        document.getElementById('login').onsubmit = login;
        document.getElementById('register').onsubmit = register;
      }

      </script> 
  </head>
  <body>
    <header>
      <nav>
          <div id="sidenav">
            <ul class="section-list">
              <li class="section-tab" id="logo"><a id="resizeImage" href="GP.html"><img src="groupProjectLogoUpsideDown.jpg" alt="Logo" width="65px" height="65px"> </a></li>
              <li class="section-tab"><a href="search_page.html">Search</a></li>
              <li class="section-tab"><a href="mytravelpage.html">My Travel</a></li>
              <li class="section-tab"><a href="Group Project Spotlight.html">Spotlight</a></li>
              <li class="section-tab"><a href="Group Project About.html">About</a></li>
              <li class="section-tab"><a href="sign_up_login_page.html">Join/ Sign Up</a></li>
            </ul>
          </div>
      </nav>
    </header>
      <main class="main">
        <div class="card flex-1">
          <h3>Log In</h3>
          <form id='login'>
            <label for="email">Email</label>
            <input
              name="email"
              type="email"
              placeholder="Enter Email Address"
            />
            <label for="password">Password</label>
            <input
              name="password"
              placeholder="Enter Password"
              type="password"
            />
            <input type="submit" value="SIGN IN" />
            <a href="/forgot-password.html">Forgot Password?</a>
          </form>
        </div>
        <div class="card flex-1">
          <h3>Sign Up</h3>
          <form id='register'>
            <label for="name">Name</label>
            <input name="name" type="text" placeholder="Enter Email Address" />
            <label for="email">Email</label>
            <input
              name="email"
              type="email"
              placeholder="Enter Email Address"
            />
            <label for="password">Password</label>
            <input
              name="password"
              placeholder="Enter Password"
              type="password"
            />
            <label for="confirmPassword">Retype Password</label>
            <input
              name="confirmPassword"
              placeholder="Retype Password"
              type="password"
            />
            <div class='checkbox'>
              <input type="checkbox" name="travelUpdates" /> I want to receive
              emails about the latest travel updates for my saved locations
            </div>
            <div class='checkbox'>
              <input type="checkbox" name="newLocationUpdates" /> I want to
              receive emails when new locations are added to Global Travel
              Planner
            </div>
            <input type="submit" value="SIGN UP" />
          </form>
        </div>
      </main>
    </div>
  </body>
  <footer>
    <a href="#top">Back to Top </a>
    <div class="footer_space">
       <p>Code First Girls</p>
       <p>Â© 2020 Wise Tripper Limited - All Rights Reserved.</p>
    </div>
  </footer>
</html>
